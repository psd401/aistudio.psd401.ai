#!/usr/bin/env node
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = __importStar(require("aws-cdk-lib"));
const infra_stack_1 = require("../lib/infra-stack");
const database_stack_1 = require("../lib/database-stack");
const auth_stack_1 = require("../lib/auth-stack");
const storage_stack_1 = require("../lib/storage-stack");
const frontend_stack_1 = require("../lib/frontend-stack");
const processing_stack_1 = require("../lib/processing-stack");
const document_processing_stack_1 = require("../lib/document-processing-stack");
const monitoring_stack_1 = require("../lib/monitoring-stack");
const aws_cdk_lib_1 = require("aws-cdk-lib");
const app = new cdk.App();
// Standard tags for cost allocation
const standardTags = {
    Project: 'AIStudio',
    Owner: 'TSD Engineering',
};
// Get baseDomain from context first
const baseDomain = app.node.tryGetContext('baseDomain');
// Helper to get callback/logout URLs for any environment
function getCallbackAndLogoutUrls(environment, baseDomain) {
    if (environment === 'dev') {
        return {
            callbackUrls: [
                'http://localhost:3000/',
                'http://localhost:3001/',
                'http://localhost:3000/api/auth/callback/cognito',
                'http://localhost:3001/api/auth/callback/cognito',
                baseDomain ? `https://dev.${baseDomain}/` : undefined,
                baseDomain ? `https://dev.${baseDomain}/api/auth/callback/cognito` : undefined,
            ].filter(Boolean),
            logoutUrls: [
                'http://localhost:3000/',
                'http://localhost:3001/',
                'http://localhost:3000/oauth2/idpresponse',
                'http://localhost:3001/oauth2/idpresponse',
                baseDomain ? `https://dev.${baseDomain}/` : undefined,
                baseDomain ? `https://dev.${baseDomain}/oauth2/idpresponse` : undefined,
            ].filter(Boolean),
        };
    }
    else {
        return {
            callbackUrls: [
                baseDomain ? `https://prod.${baseDomain}/` : undefined,
                baseDomain ? `https://dev.${baseDomain}/` : undefined,
                baseDomain ? `https://prod.${baseDomain}/api/auth/callback/cognito` : undefined,
                baseDomain ? `https://dev.${baseDomain}/api/auth/callback/cognito` : undefined,
            ].filter(Boolean),
            logoutUrls: [
                baseDomain ? `https://prod.${baseDomain}/` : undefined,
                baseDomain ? `https://dev.${baseDomain}/` : undefined,
                baseDomain ? `https://prod.${baseDomain}/oauth2/idpresponse` : undefined,
                baseDomain ? `https://dev.${baseDomain}/oauth2/idpresponse` : undefined,
            ].filter(Boolean),
        };
    }
}
// Dev environment
const devDbStack = new database_stack_1.DatabaseStack(app, 'AIStudio-DatabaseStack-Dev', {
    environment: 'dev',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(devDbStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devDbStack).add(key, value));
const devUrls = getCallbackAndLogoutUrls('dev', baseDomain);
const devAuthStack = new auth_stack_1.AuthStack(app, 'AIStudio-AuthStack-Dev', {
    environment: 'dev',
    googleClientSecret: aws_cdk_lib_1.SecretValue.secretsManager('aistudio-dev-google-oauth', { jsonField: 'clientSecret' }),
    callbackUrls: devUrls.callbackUrls,
    logoutUrls: devUrls.logoutUrls,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(devAuthStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devAuthStack).add(key, value));
const devStorageStack = new storage_stack_1.StorageStack(app, 'AIStudio-StorageStack-Dev', {
    environment: 'dev',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(devStorageStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devStorageStack).add(key, value));
const devProcessingStack = new processing_stack_1.ProcessingStack(app, 'AIStudio-ProcessingStack-Dev', {
    environment: 'dev',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(devProcessingStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devProcessingStack).add(key, value));
const devDocumentProcessingStack = new document_processing_stack_1.DocumentProcessingStack(app, 'AIStudio-DocumentProcessingStack-Dev', {
    environment: 'dev',
    rdsClusterArn: devDbStack.databaseResourceArn,
    rdsSecretArn: devDbStack.databaseSecretArn,
    documentsBucketName: devStorageStack.documentsBucketName,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
devDocumentProcessingStack.addDependency(devDbStack);
devDocumentProcessingStack.addDependency(devStorageStack);
cdk.Tags.of(devDocumentProcessingStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devDocumentProcessingStack).add(key, value));
// Prod environment
const prodDbStack = new database_stack_1.DatabaseStack(app, 'AIStudio-DatabaseStack-Prod', {
    environment: 'prod',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(prodDbStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodDbStack).add(key, value));
const prodUrls = getCallbackAndLogoutUrls('prod', baseDomain);
const prodAuthStack = new auth_stack_1.AuthStack(app, 'AIStudio-AuthStack-Prod', {
    environment: 'prod',
    googleClientSecret: aws_cdk_lib_1.SecretValue.secretsManager('aistudio-prod-google-oauth', { jsonField: 'clientSecret' }),
    callbackUrls: prodUrls.callbackUrls,
    logoutUrls: prodUrls.logoutUrls,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(prodAuthStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodAuthStack).add(key, value));
const prodStorageStack = new storage_stack_1.StorageStack(app, 'AIStudio-StorageStack-Prod', {
    environment: 'prod',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(prodStorageStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodStorageStack).add(key, value));
const prodProcessingStack = new processing_stack_1.ProcessingStack(app, 'AIStudio-ProcessingStack-Prod', {
    environment: 'prod',
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(prodProcessingStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodProcessingStack).add(key, value));
const prodDocumentProcessingStack = new document_processing_stack_1.DocumentProcessingStack(app, 'AIStudio-DocumentProcessingStack-Prod', {
    environment: 'prod',
    rdsClusterArn: prodDbStack.databaseResourceArn,
    rdsSecretArn: prodDbStack.databaseSecretArn,
    documentsBucketName: prodStorageStack.documentsBucketName,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
prodDocumentProcessingStack.addDependency(prodDbStack);
prodDocumentProcessingStack.addDependency(prodStorageStack);
cdk.Tags.of(prodDocumentProcessingStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodDocumentProcessingStack).add(key, value));
// Frontend stacks - created after all other stacks
if (baseDomain) {
    const devFrontendStack = new frontend_stack_1.FrontendStack(app, 'AIStudio-FrontendStack-Dev', {
        environment: 'dev',
        githubToken: aws_cdk_lib_1.SecretValue.secretsManager('aistudio-github-token'),
        baseDomain,
        env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
    });
    cdk.Tags.of(devFrontendStack).add('Environment', 'Dev');
    Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devFrontendStack).add(key, value));
    const prodFrontendStack = new frontend_stack_1.FrontendStack(app, 'AIStudio-FrontendStack-Prod', {
        environment: 'prod',
        githubToken: aws_cdk_lib_1.SecretValue.secretsManager('aistudio-github-token'),
        baseDomain,
        env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
    });
    cdk.Tags.of(prodFrontendStack).add('Environment', 'Prod');
    Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodFrontendStack).add(key, value));
    // To deploy, use:
    // cdk deploy AIStudio-FrontendStack-Dev --context baseDomain=yourdomain.com
    // cdk deploy AIStudio-FrontendStack-Prod --context baseDomain=yourdomain.com
}
// Monitoring stacks - created after all other stacks for comprehensive monitoring
// Optional: pass alertEmail context to enable email notifications
const alertEmail = app.node.tryGetContext('alertEmail');
const devMonitoringStack = new monitoring_stack_1.MonitoringStack(app, 'AIStudio-MonitoringStack-Dev', {
    environment: 'dev',
    alertEmail,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(devMonitoringStack).add('Environment', 'Dev');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(devMonitoringStack).add(key, value));
const prodMonitoringStack = new monitoring_stack_1.MonitoringStack(app, 'AIStudio-MonitoringStack-Prod', {
    environment: 'prod',
    alertEmail,
    env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
});
cdk.Tags.of(prodMonitoringStack).add('Environment', 'Prod');
Object.entries(standardTags).forEach(([key, value]) => cdk.Tags.of(prodMonitoringStack).add(key, value));
// To deploy monitoring with email alerts:
// cdk deploy AIStudio-MonitoringStack-Dev --context alertEmail=your-email@example.com
// cdk deploy AIStudio-MonitoringStack-Prod --context alertEmail=your-email@example.com
new infra_stack_1.InfraStack(app, 'AIStudio-InfraStack', {
/* If you don't specify 'env', this stack will be environment-agnostic.
 * Account/Region-dependent features and context lookups will not work,
 * but a single synthesized template can be deployed anywhere. */
/* Uncomment the next line to specialize this stack for the AWS Account
 * and Region that are implied by the current CLI configuration. */
// env: { account: process.env.CDK_DEFAULT_ACCOUNT, region: process.env.CDK_DEFAULT_REGION },
/* Uncomment the next line if you know exactly what Account and Region you
 * want to deploy the stack to. */
// env: { account: '123456789012', region: 'us-east-1' },
/* For more information, see https://docs.aws.amazon.com/cdk/latest/guide/environments.html */
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5mcmEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmZyYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxpREFBbUM7QUFDbkMsb0RBQWdEO0FBQ2hELDBEQUFzRDtBQUN0RCxrREFBOEM7QUFDOUMsd0RBQW9EO0FBQ3BELDBEQUFzRDtBQUN0RCw4REFBMEQ7QUFDMUQsZ0ZBQTJFO0FBQzNFLDhEQUEwRDtBQUMxRCw2Q0FBMEM7QUFFMUMsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFMUIsb0NBQW9DO0FBQ3BDLE1BQU0sWUFBWSxHQUFHO0lBQ25CLE9BQU8sRUFBRSxVQUFVO0lBQ25CLEtBQUssRUFBRSxpQkFBaUI7Q0FDekIsQ0FBQztBQUVGLG9DQUFvQztBQUNwQyxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUV4RCx5REFBeUQ7QUFDekQsU0FBUyx3QkFBd0IsQ0FBQyxXQUFtQixFQUFFLFVBQW1CO0lBQ3hFLElBQUksV0FBVyxLQUFLLEtBQUssRUFBRSxDQUFDO1FBQzFCLE9BQU87WUFDTCxZQUFZLEVBQUU7Z0JBQ1osd0JBQXdCO2dCQUN4Qix3QkFBd0I7Z0JBQ3hCLGlEQUFpRDtnQkFDakQsaURBQWlEO2dCQUNqRCxVQUFVLENBQUMsQ0FBQyxDQUFDLGVBQWUsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVM7Z0JBQ3JELFVBQVUsQ0FBQyxDQUFDLENBQUMsZUFBZSxVQUFVLDRCQUE0QixDQUFDLENBQUMsQ0FBQyxTQUFTO2FBQy9FLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBYTtZQUM3QixVQUFVLEVBQUU7Z0JBQ1Ysd0JBQXdCO2dCQUN4Qix3QkFBd0I7Z0JBQ3hCLDBDQUEwQztnQkFDMUMsMENBQTBDO2dCQUMxQyxVQUFVLENBQUMsQ0FBQyxDQUFD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SUFDcEYsV0FBVyxFQUFFLE1BQU07SUFDbkIsVUFBVTtJQUNWLEdBQUcsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFO0NBQzFGLENBQUMsQ0FBQztBQUNILEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLG1CQUFtQixDQUFDLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUMsQ0FBQztBQUM1RCxNQUFNLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUV6RywwQ0FBMEM7QUFDMUMsc0ZBQXNGO0FBQ3RGLHVGQUF1RjtBQUV2RixJQUFJLHdCQUFVLENBQUMsR0FBRyxFQUFFLHFCQUFxQixFQUFFO0FBQ3pDOztpRUFFaUU7QUFFakU7bUVBQ21FO0FBQ25FLDZGQUE2RjtBQUU3RjtrQ0FDa0M7QUFDbEMseURBQXlEO0FBRXpELDhGQUE4RjtDQUMvRixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgSW5mcmFTdGFjayB9IGZyb20gJy4uL2xpYi9pbmZyYS1zdGFjayc7XG5pbXBvcnQgeyBEYXRhYmFzZVN0YWNrIH0gZnJvbSAnLi4vbGliL2RhdGFiYXNlLXN0YWNrJztcbmltcG9ydCB7IEF1dGhTdGFjayB9IGZyb20gJy4uL2xpYi9hdXRoLXN0YWNrJztcbmltcG9ydCB7IFN0b3JhZ2VTdGFjayB9IGZyb20gJy4uL2xpYi9zdG9yYWdlLXN0YWNrJztcbmltcG9ydCB7IEZyb250ZW5kU3RhY2sgfSBmcm9tICcuLi9saWIvZnJvbnRlbmQtc3RhY2snO1xuaW1wb3J0IHsgUHJvY2Vzc2luZ1N0YWNrIH0gZnJvbSAnLi4vbGliL3Byb2Nlc3Npbmctc3RhY2snO1xuaW1wb3J0IHsgRG9jdW1lbnRQcm9jZXNzaW5nU3RhY2sgfSBmcm9tICcuLi9saWIvZG9jdW1lbnQtcHJvY2Vzc2luZy1zdGFjayc7XG5pbXBvcnQgeyBNb25pdG9yaW5nU3RhY2sgfSBmcm9tICcuLi9saWIvbW9uaXRvcmluZy1zdGFjayc7XG5pbXBvcnQgeyBTZWNyZXRWYWx1ZSB9IGZyb20gJ2F3cy1jZGstbGliJztcblxuY29uc3QgYXBwID0gbmV3IGNkay5BcHAoKTtcblxuLy8gU3RhbmRhcmQgdGFncyBmb3IgY29zdCBhbGxvY2F0aW9uXG5jb25zdCBzdGFuZGFyZFRhZ3MgPSB7XG4gIFByb2plY3Q6ICdBSVN0dWRpbycsXG4gIE93bmVyOiAnVFNEIEVuZ2luZWVyaW5nJyxcbn07XG5cbi8vIEdldCBiYXNlRG9tYWluIGZyb20gY29udGV4dCBmaXJzdFxuY29uc3QgYmFzZURvbWFpbiA9IGFwcC5ub2RlLnRyeUdldENvbnRleHQoJ2Jhc2VEb21haW4nKTtcblxuLy8gSGVscGVyIHRvIGdldCBjYWxsYmFjay9sb2dvdXQgVVJMcyBmb3IgYW55IGVudmlyb25tZW50XG5mdW5jdGlvbiBnZXRDYWxsYmFja0FuZExvZ291dFVybHMoZW52aXJvbm1lbnQ6IHN0cmluZywgYmFzZURvbWFpbj86IHN0cmluZyk6IHsgY2FsbGJhY2tVcmxzOiBzdHJpbmdbXSwgbG9nb3V0VXJsczogc3RyaW5nW10gfSB7XG4gIGlmIChlbnZpcm9ubWVudCA9PT0gJ2RldicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FsbGJhY2tVcmxzOiBbXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyxcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS8nLFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hdXRoL2NhbGxiYWNrL2NvZ25pdG8nLFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAxL2FwaS9hdXRoL2NhbGxiYWNrL2NvZ25pdG8nLFxuICAgICAgICBiYXNlRG9tYWluID8gYGh0dHBzOi8vZGV2LiR7YmFzZURvbWFpbn0vYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgYmFzZURvbWFpbiA/IGBodHRwczovL2Rldi4ke2Jhc2VEb21haW59L2FwaS9hdXRoL2NhbGxiYWNrL2NvZ25pdG9gIDogdW5kZWZpbmVkLFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW10sXG4gICAgICBsb2dvdXRVcmxzOiBbXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAvJyxcbiAgICAgICAgJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS8nLFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL29hdXRoMi9pZHByZXNwb25zZScsXG4gICAgICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDEvb2F1dGgyL2lkcHJlc3BvbnNlJyxcbiAgICAgICAgYmFzZURvbWFpbiA/IGBodHRwczovL2Rldi4ke2Jhc2VEb21haW59L2AgOiB1bmRlZmluZWQsXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9kZXYuJHtiYXNlRG9tYWlufS9vYXV0aDIvaWRwcmVzcG9uc2VgIDogdW5kZWZpbmVkLFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW10sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FsbGJhY2tVcmxzOiBbXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9wcm9kLiR7YmFzZURvbWFpbn0vYCA6IHVuZGVmaW5lZCxcbiAgICAgICAgYmFzZURvbWFpbiA/IGBodHRwczovL2Rldi4ke2Jhc2VEb21haW59L2AgOiB1bmRlZmluZWQsXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9wcm9kLiR7YmFzZURvbWFpbn0vYXBpL2F1dGgvY2FsbGJhY2svY29nbml0b2AgOiB1bmRlZmluZWQsXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9kZXYuJHtiYXNlRG9tYWlufS9hcGkvYXV0aC9jYWxsYmFjay9jb2duaXRvYCA6IHVuZGVmaW5lZCxcbiAgICAgIF0uZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdLFxuICAgICAgbG9nb3V0VXJsczogW1xuICAgICAgICBiYXNlRG9tYWluID8gYGh0dHBzOi8vcHJvZC4ke2Jhc2VEb21haW59L2AgOiB1bmRlZmluZWQsXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9kZXYuJHtiYXNlRG9tYWlufS9gIDogdW5kZWZpbmVkLFxuICAgICAgICBiYXNlRG9tYWluID8gYGh0dHBzOi8vcHJvZC4ke2Jhc2VEb21haW59L29hdXRoMi9pZHByZXNwb25zZWAgOiB1bmRlZmluZWQsXG4gICAgICAgIGJhc2VEb21haW4gPyBgaHR0cHM6Ly9kZXYuJHtiYXNlRG9tYWlufS9vYXV0aDIvaWRwcmVzcG9uc2VgIDogdW5kZWZpbmVkLFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW10sXG4gICAgfTtcbiAgfVxufVxuXG4vLyBEZXYgZW52aXJvbm1lbnRcbmNvbnN0IGRldkRiU3RhY2sgPSBuZXcgRGF0YWJhc2VTdGFjayhhcHAsICdBSVN0dWRpby1EYXRhYmFzZVN0YWNrLURldicsIHtcbiAgZW52aXJvbm1lbnQ6ICdkZXYnLFxuICBlbnY6IHsgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfSxcbn0pO1xuY2RrLlRhZ3Mub2YoZGV2RGJTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdEZXYnKTtcbk9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihkZXZEYlN0YWNrKS5hZGQoa2V5LCB2YWx1ZSkpO1xuXG5jb25zdCBkZXZVcmxzID0gZ2V0Q2FsbGJhY2tBbmRMb2dvdXRVcmxzKCdkZXYnLCBiYXNlRG9tYWluKTtcbmNvbnN0IGRldkF1dGhTdGFjayA9IG5ldyBBdXRoU3RhY2soYXBwLCAnQUlTdHVkaW8tQXV0aFN0YWNrLURldicsIHtcbiAgZW52aXJvbm1lbnQ6ICdkZXYnLFxuICBnb29nbGVDbGllbnRTZWNyZXQ6IFNlY3JldFZhbHVlLnNlY3JldHNNYW5hZ2VyKCdhaXN0dWRpby1kZXYtZ29vZ2xlLW9hdXRoJywgeyBqc29uRmllbGQ6ICdjbGllbnRTZWNyZXQnIH0pLFxuICBjYWxsYmFja1VybHM6IGRldlVybHMuY2FsbGJhY2tVcmxzLFxuICBsb2dvdXRVcmxzOiBkZXZVcmxzLmxvZ291dFVybHMsXG4gIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxufSk7XG5jZGsuVGFncy5vZihkZXZBdXRoU3RhY2spLmFkZCgnRW52aXJvbm1lbnQnLCAnRGV2Jyk7XG5PYmplY3QuZW50cmllcyhzdGFuZGFyZFRhZ3MpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gY2RrLlRhZ3Mub2YoZGV2QXV0aFN0YWNrKS5hZGQoa2V5LCB2YWx1ZSkpO1xuXG5jb25zdCBkZXZTdG9yYWdlU3RhY2sgPSBuZXcgU3RvcmFnZVN0YWNrKGFwcCwgJ0FJU3R1ZGlvLVN0b3JhZ2VTdGFjay1EZXYnLCB7XG4gIGVudmlyb25tZW50OiAnZGV2JyxcbiAgZW52OiB7IGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OIH0sXG59KTtcbmNkay5UYWdzLm9mKGRldlN0b3JhZ2VTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdEZXYnKTtcbk9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihkZXZTdG9yYWdlU3RhY2spLmFkZChrZXksIHZhbHVlKSk7XG5cbmNvbnN0IGRldlByb2Nlc3NpbmdTdGFjayA9IG5ldyBQcm9jZXNzaW5nU3RhY2soYXBwLCAnQUlTdHVkaW8tUHJvY2Vzc2luZ1N0YWNrLURldicsIHtcbiAgZW52aXJvbm1lbnQ6ICdkZXYnLFxuICBlbnY6IHsgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfSxcbn0pO1xuY2RrLlRhZ3Mub2YoZGV2UHJvY2Vzc2luZ1N0YWNrKS5hZGQoJ0Vudmlyb25tZW50JywgJ0RldicpO1xuT2JqZWN0LmVudHJpZXMoc3RhbmRhcmRUYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IGNkay5UYWdzLm9mKGRldlByb2Nlc3NpbmdTdGFjaykuYWRkKGtleSwgdmFsdWUpKTtcblxuY29uc3QgZGV2RG9jdW1lbnRQcm9jZXNzaW5nU3RhY2sgPSBuZXcgRG9jdW1lbnRQcm9jZXNzaW5nU3RhY2soYXBwLCAnQUlTdHVkaW8tRG9jdW1lbnRQcm9jZXNzaW5nU3RhY2stRGV2Jywge1xuICBlbnZpcm9ubWVudDogJ2RldicsXG4gIHJkc0NsdXN0ZXJBcm46IGRldkRiU3RhY2suZGF0YWJhc2VSZXNvdXJjZUFybixcbiAgcmRzU2VjcmV0QXJuOiBkZXZEYlN0YWNrLmRhdGFiYXNlU2VjcmV0QXJuLFxuICBkb2N1bWVudHNCdWNrZXROYW1lOiBkZXZTdG9yYWdlU3RhY2suZG9jdW1lbnRzQnVja2V0TmFtZSxcbiAgZW52OiB7IGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OIH0sXG59KTtcbmRldkRvY3VtZW50UHJvY2Vzc2luZ1N0YWNrLmFkZERlcGVuZGVuY3koZGV2RGJTdGFjayk7XG5kZXZEb2N1bWVudFByb2Nlc3NpbmdTdGFjay5hZGREZXBlbmRlbmN5KGRldlN0b3JhZ2VTdGFjayk7XG5jZGsuVGFncy5vZihkZXZEb2N1bWVudFByb2Nlc3NpbmdTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdEZXYnKTtcbk9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihkZXZEb2N1bWVudFByb2Nlc3NpbmdTdGFjaykuYWRkKGtleSwgdmFsdWUpKTtcblxuLy8gUHJvZCBlbnZpcm9ubWVudFxuY29uc3QgcHJvZERiU3RhY2sgPSBuZXcgRGF0YWJhc2VTdGFjayhhcHAsICdBSVN0dWRpby1EYXRhYmFzZVN0YWNrLVByb2QnLCB7XG4gIGVudmlyb25tZW50OiAncHJvZCcsXG4gIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxufSk7XG5jZGsuVGFncy5vZihwcm9kRGJTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdQcm9kJyk7XG5PYmplY3QuZW50cmllcyhzdGFuZGFyZFRhZ3MpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gY2RrLlRhZ3Mub2YocHJvZERiU3RhY2spLmFkZChrZXksIHZhbHVlKSk7XG5cbmNvbnN0IHByb2RVcmxzID0gZ2V0Q2FsbGJhY2tBbmRMb2dvdXRVcmxzKCdwcm9kJywgYmFzZURvbWFpbik7XG5jb25zdCBwcm9kQXV0aFN0YWNrID0gbmV3IEF1dGhTdGFjayhhcHAsICdBSVN0dWRpby1BdXRoU3RhY2stUHJvZCcsIHtcbiAgZW52aXJvbm1lbnQ6ICdwcm9kJyxcbiAgZ29vZ2xlQ2xpZW50U2VjcmV0OiBTZWNyZXRWYWx1ZS5zZWNyZXRzTWFuYWdlcignYWlzdHVkaW8tcHJvZC1nb29nbGUtb2F1dGgnLCB7IGpzb25GaWVsZDogJ2NsaWVudFNlY3JldCcgfSksXG4gIGNhbGxiYWNrVXJsczogcHJvZFVybHMuY2FsbGJhY2tVcmxzLFxuICBsb2dvdXRVcmxzOiBwcm9kVXJscy5sb2dvdXRVcmxzLFxuICBlbnY6IHsgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfSxcbn0pO1xuY2RrLlRhZ3Mub2YocHJvZEF1dGhTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdQcm9kJyk7XG5PYmplY3QuZW50cmllcyhzdGFuZGFyZFRhZ3MpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gY2RrLlRhZ3Mub2YocHJvZEF1dGhTdGFjaykuYWRkKGtleSwgdmFsdWUpKTtcblxuY29uc3QgcHJvZFN0b3JhZ2VTdGFjayA9IG5ldyBTdG9yYWdlU3RhY2soYXBwLCAnQUlTdHVkaW8tU3RvcmFnZVN0YWNrLVByb2QnLCB7XG4gIGVudmlyb25tZW50OiAncHJvZCcsXG4gIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxufSk7XG5jZGsuVGFncy5vZihwcm9kU3RvcmFnZVN0YWNrKS5hZGQoJ0Vudmlyb25tZW50JywgJ1Byb2QnKTtcbk9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihwcm9kU3RvcmFnZVN0YWNrKS5hZGQoa2V5LCB2YWx1ZSkpO1xuXG5jb25zdCBwcm9kUHJvY2Vzc2luZ1N0YWNrID0gbmV3IFByb2Nlc3NpbmdTdGFjayhhcHAsICdBSVN0dWRpby1Qcm9jZXNzaW5nU3RhY2stUHJvZCcsIHtcbiAgZW52aXJvbm1lbnQ6ICdwcm9kJyxcbiAgZW52OiB7IGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OIH0sXG59KTtcbmNkay5UYWdzLm9mKHByb2RQcm9jZXNzaW5nU3RhY2spLmFkZCgnRW52aXJvbm1lbnQnLCAnUHJvZCcpO1xuT2JqZWN0LmVudHJpZXMoc3RhbmRhcmRUYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IGNkay5UYWdzLm9mKHByb2RQcm9jZXNzaW5nU3RhY2spLmFkZChrZXksIHZhbHVlKSk7XG5cbmNvbnN0IHByb2REb2N1bWVudFByb2Nlc3NpbmdTdGFjayA9IG5ldyBEb2N1bWVudFByb2Nlc3NpbmdTdGFjayhhcHAsICdBSVN0dWRpby1Eb2N1bWVudFByb2Nlc3NpbmdTdGFjay1Qcm9kJywge1xuICBlbnZpcm9ubWVudDogJ3Byb2QnLFxuICByZHNDbHVzdGVyQXJuOiBwcm9kRGJTdGFjay5kYXRhYmFzZVJlc291cmNlQXJuLFxuICByZHNTZWNyZXRBcm46IHByb2REYlN0YWNrLmRhdGFiYXNlU2VjcmV0QXJuLFxuICBkb2N1bWVudHNCdWNrZXROYW1lOiBwcm9kU3RvcmFnZVN0YWNrLmRvY3VtZW50c0J1Y2tldE5hbWUsXG4gIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxufSk7XG5wcm9kRG9jdW1lbnRQcm9jZXNzaW5nU3RhY2suYWRkRGVwZW5kZW5jeShwcm9kRGJTdGFjayk7XG5wcm9kRG9jdW1lbnRQcm9jZXNzaW5nU3RhY2suYWRkRGVwZW5kZW5jeShwcm9kU3RvcmFnZVN0YWNrKTtcbmNkay5UYWdzLm9mKHByb2REb2N1bWVudFByb2Nlc3NpbmdTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdQcm9kJyk7XG5PYmplY3QuZW50cmllcyhzdGFuZGFyZFRhZ3MpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gY2RrLlRhZ3Mub2YocHJvZERvY3VtZW50UHJvY2Vzc2luZ1N0YWNrKS5hZGQoa2V5LCB2YWx1ZSkpO1xuXG4vLyBGcm9udGVuZCBzdGFja3MgLSBjcmVhdGVkIGFmdGVyIGFsbCBvdGhlciBzdGFja3NcbmlmIChiYXNlRG9tYWluKSB7XG4gIGNvbnN0IGRldkZyb250ZW5kU3RhY2sgPSBuZXcgRnJvbnRlbmRTdGFjayhhcHAsICdBSVN0dWRpby1Gcm9udGVuZFN0YWNrLURldicsIHtcbiAgICBlbnZpcm9ubWVudDogJ2RldicsXG4gICAgZ2l0aHViVG9rZW46IFNlY3JldFZhbHVlLnNlY3JldHNNYW5hZ2VyKCdhaXN0dWRpby1naXRodWItdG9rZW4nKSxcbiAgICBiYXNlRG9tYWluLFxuICAgIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxuICB9KTtcbiAgY2RrLlRhZ3Mub2YoZGV2RnJvbnRlbmRTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdEZXYnKTtcbiAgT2JqZWN0LmVudHJpZXMoc3RhbmRhcmRUYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IGNkay5UYWdzLm9mKGRldkZyb250ZW5kU3RhY2spLmFkZChrZXksIHZhbHVlKSk7XG5cbiAgY29uc3QgcHJvZEZyb250ZW5kU3RhY2sgPSBuZXcgRnJvbnRlbmRTdGFjayhhcHAsICdBSVN0dWRpby1Gcm9udGVuZFN0YWNrLVByb2QnLCB7XG4gICAgZW52aXJvbm1lbnQ6ICdwcm9kJyxcbiAgICBnaXRodWJUb2tlbjogU2VjcmV0VmFsdWUuc2VjcmV0c01hbmFnZXIoJ2Fpc3R1ZGlvLWdpdGh1Yi10b2tlbicpLFxuICAgIGJhc2VEb21haW4sXG4gICAgZW52OiB7IGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OIH0sXG4gIH0pO1xuICBjZGsuVGFncy5vZihwcm9kRnJvbnRlbmRTdGFjaykuYWRkKCdFbnZpcm9ubWVudCcsICdQcm9kJyk7XG4gIE9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihwcm9kRnJvbnRlbmRTdGFjaykuYWRkKGtleSwgdmFsdWUpKTtcblxuICAvLyBUbyBkZXBsb3ksIHVzZTpcbiAgLy8gY2RrIGRlcGxveSBBSVN0dWRpby1Gcm9udGVuZFN0YWNrLURldiAtLWNvbnRleHQgYmFzZURvbWFpbj15b3VyZG9tYWluLmNvbVxuICAvLyBjZGsgZGVwbG95IEFJU3R1ZGlvLUZyb250ZW5kU3RhY2stUHJvZCAtLWNvbnRleHQgYmFzZURvbWFpbj15b3VyZG9tYWluLmNvbVxufVxuXG4vLyBNb25pdG9yaW5nIHN0YWNrcyAtIGNyZWF0ZWQgYWZ0ZXIgYWxsIG90aGVyIHN0YWNrcyBmb3IgY29tcHJlaGVuc2l2ZSBtb25pdG9yaW5nXG4vLyBPcHRpb25hbDogcGFzcyBhbGVydEVtYWlsIGNvbnRleHQgdG8gZW5hYmxlIGVtYWlsIG5vdGlmaWNhdGlvbnNcbmNvbnN0IGFsZXJ0RW1haWwgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdhbGVydEVtYWlsJyk7XG5cbmNvbnN0IGRldk1vbml0b3JpbmdTdGFjayA9IG5ldyBNb25pdG9yaW5nU3RhY2soYXBwLCAnQUlTdHVkaW8tTW9uaXRvcmluZ1N0YWNrLURldicsIHtcbiAgZW52aXJvbm1lbnQ6ICdkZXYnLFxuICBhbGVydEVtYWlsLFxuICBlbnY6IHsgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfSxcbn0pO1xuY2RrLlRhZ3Mub2YoZGV2TW9uaXRvcmluZ1N0YWNrKS5hZGQoJ0Vudmlyb25tZW50JywgJ0RldicpO1xuT2JqZWN0LmVudHJpZXMoc3RhbmRhcmRUYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IGNkay5UYWdzLm9mKGRldk1vbml0b3JpbmdTdGFjaykuYWRkKGtleSwgdmFsdWUpKTtcblxuY29uc3QgcHJvZE1vbml0b3JpbmdTdGFjayA9IG5ldyBNb25pdG9yaW5nU3RhY2soYXBwLCAnQUlTdHVkaW8tTW9uaXRvcmluZ1N0YWNrLVByb2QnLCB7XG4gIGVudmlyb25tZW50OiAncHJvZCcsXG4gIGFsZXJ0RW1haWwsXG4gIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxufSk7XG5jZGsuVGFncy5vZihwcm9kTW9uaXRvcmluZ1N0YWNrKS5hZGQoJ0Vudmlyb25tZW50JywgJ1Byb2QnKTtcbk9iamVjdC5lbnRyaWVzKHN0YW5kYXJkVGFncykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiBjZGsuVGFncy5vZihwcm9kTW9uaXRvcmluZ1N0YWNrKS5hZGQoa2V5LCB2YWx1ZSkpO1xuXG4vLyBUbyBkZXBsb3kgbW9uaXRvcmluZyB3aXRoIGVtYWlsIGFsZXJ0czpcbi8vIGNkayBkZXBsb3kgQUlTdHVkaW8tTW9uaXRvcmluZ1N0YWNrLURldiAtLWNvbnRleHQgYWxlcnRFbWFpbD15b3VyLWVtYWlsQGV4YW1wbGUuY29tXG4vLyBjZGsgZGVwbG95IEFJU3R1ZGlvLU1vbml0b3JpbmdTdGFjay1Qcm9kIC0tY29udGV4dCBhbGVydEVtYWlsPXlvdXItZW1haWxAZXhhbXBsZS5jb21cblxubmV3IEluZnJhU3RhY2soYXBwLCAnQUlTdHVkaW8tSW5mcmFTdGFjaycsIHtcbiAgLyogSWYgeW91IGRvbid0IHNwZWNpZnkgJ2VudicsIHRoaXMgc3RhY2sgd2lsbCBiZSBlbnZpcm9ubWVudC1hZ25vc3RpYy5cbiAgICogQWNjb3VudC9SZWdpb24tZGVwZW5kZW50IGZlYXR1cmVzIGFuZCBjb250ZXh0IGxvb2t1cHMgd2lsbCBub3Qgd29yayxcbiAgICogYnV0IGEgc2luZ2xlIHN5bnRoZXNpemVkIHRlbXBsYXRlIGNhbiBiZSBkZXBsb3llZCBhbnl3aGVyZS4gKi9cblxuICAvKiBVbmNvbW1lbnQgdGhlIG5leHQgbGluZSB0byBzcGVjaWFsaXplIHRoaXMgc3RhY2sgZm9yIHRoZSBBV1MgQWNjb3VudFxuICAgKiBhbmQgUmVnaW9uIHRoYXQgYXJlIGltcGxpZWQgYnkgdGhlIGN1cnJlbnQgQ0xJIGNvbmZpZ3VyYXRpb24uICovXG4gIC8vIGVudjogeyBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiB9LFxuXG4gIC8qIFVuY29tbWVudCB0aGUgbmV4dCBsaW5lIGlmIHlvdSBrbm93IGV4YWN0bHkgd2hhdCBBY2NvdW50IGFuZCBSZWdpb24geW91XG4gICAqIHdhbnQgdG8gZGVwbG95IHRoZSBzdGFjayB0by4gKi9cbiAgLy8gZW52OiB7IGFjY291bnQ6ICcxMjM0NTY3ODkwMTInLCByZWdpb246ICd1cy1lYXN0LTEnIH0sXG5cbiAgLyogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vY2RrL2xhdGVzdC9ndWlkZS9lbnZpcm9ubWVudHMuaHRtbCAqL1xufSk7Il19